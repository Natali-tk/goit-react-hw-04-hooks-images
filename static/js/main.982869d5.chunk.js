(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={overlay:"Modal_overlay__1pPLJ",modal:"Modal_modal__1bJbj"}},14:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__35Sgu",galleryItemImage:"ImageGalleryItem_galleryItemImage__2ARNJ"}},25:function(e,t,a){e.exports={imageGalleryList:"ImageGallery_imageGalleryList__3h4Dy"}},26:function(e,t,a){e.exports={button:"Button_button__3HnGR"}},27:function(e,t,a){e.exports={loader:"Loader_loader__YlgtB"}},32:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),i=a.n(c),s=(a(32),a(6)),o=a.n(s),l=a(15),u=a(10),b=a(3),h=a(4),j=(a(16),a(12)),d=a.n(j);d.a.defaults.baseURL="https://pixabay.com/api";var m=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,n=t.page,e.next=3,d.a.get("/?q=".concat(a,"&page=").concat(n,"&key=").concat("21726262-6f53751bde553225c4af8487e","&image_type=photo&orientation=horizontal&per_page=12"));case 3:return r=e.sent,e.abrupt("return",r.data.hits);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=a(13),f=a.n(g),p=a(1),O=document.querySelector("#modal-root");var x=function(e){var t=e.largeImageURL,a=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&a()};return Object(c.createPortal)(Object(p.jsx)("div",{className:f.a.overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(p.jsx)("div",{className:f.a.modal,children:Object(p.jsx)("img",{src:t,alt:""})})}),O)},v=a(7),y=a.n(v);var _=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(b.a)(a,2),c=r[0],i=r[1];return Object(p.jsx)("header",{className:y.a.searchbar,children:Object(p.jsxs)("form",{className:y.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),i("")):h.b.info("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438")},children:[Object(p.jsx)("button",{type:"submit",className:y.a.searchBtn,children:Object(p.jsx)("span",{className:y.a.searchLable,children:"Search"})}),Object(p.jsx)("input",{className:y.a.searchInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){i(e.currentTarget.value.toLowerCase())},value:c})]})})},w=a(14),L=a.n(w);var S=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.alt,r=void 0===n?"":n,c=e.getLargeImageURL;return Object(p.jsx)("li",{className:L.a.galleryItem,children:Object(p.jsx)("img",{src:t,alt:r,className:L.a.galleryItemImage,onClick:function(){return c(a)}})})},I=a(25),N=a.n(I);var C=function(e){var t=e.images,a=e.onSelect;return Object(p.jsx)("ul",{className:N.a.imageGalleryList,children:t.map((function(e){return Object(p.jsx)(S,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,alt:e.tags,getLargeImageURL:a},e.id)}))})},k=a(26),M=a.n(k),R=function(e){var t=e.onClick;return Object(p.jsx)("button",{className:M.a.button,type:"button",onClick:t,children:"Load more"})},U=a(27),E=a.n(U),F=function(e){return Object(p.jsxs)("svg",{width:e.width,height:e.height,fill:e.color,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg","aria-label":e.label,className:E.a.loader,children:[Object(p.jsxs)("rect",{y:"10",width:"15",height:"120",rx:"6",children:[Object(p.jsx)("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Object(p.jsx)("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),Object(p.jsxs)("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6",children:[Object(p.jsx)("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Object(p.jsx)("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),Object(p.jsxs)("rect",{x:"60",width:"15",height:"140",rx:"6",children:[Object(p.jsx)("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Object(p.jsx)("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),Object(p.jsxs)("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6",children:[Object(p.jsx)("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Object(p.jsx)("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),Object(p.jsxs)("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6",children:[Object(p.jsx)("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),Object(p.jsx)("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]})]})};F.defaultProps={height:80,width:80,color:"green",label:"audio-loading"};var G=F;var B=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),i=Object(b.a)(c,2),s=i[0],j=i[1],d=Object(n.useState)(!1),g=Object(b.a)(d,2),f=g[0],O=g[1],v=Object(n.useState)(""),y=Object(b.a)(v,2),w=y[0],L=y[1],S=Object(n.useState)(1),I=Object(b.a)(S,2),N=I[0],k=I[1],M=Object(n.useState)(""),U=Object(b.a)(M,2),E=U[0],F=U[1],B=Object(n.useState)("idle"),J=Object(b.a)(B,2),P=J[0],T=J[1];Object(n.useEffect)((function(){"rejected"===P&&h.b.error("Oops, no match")}),[P,a.length]),Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T("pending"),e.next=4,m({query:w,page:N});case 4:t=e.sent,T("resolve"),0===t.length&&h.b.error("Oops, no match"),r((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),T("rejected");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}w&&function(){e.apply(this,arguments)}()}),[w,N]),Object(n.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));var q=function(){O(!f)};return Object(p.jsxs)(p.Fragment,{children:[s&&h.b.error("OOO, something is wrong!"),Object(p.jsx)(_,{onSubmit:function(e){L(e),r([]),k(1),j(null)}}),"pending"===P&&Object(p.jsx)(G,{}),a.length>0&&Object(p.jsx)(C,{images:a,onSelect:function(e){F(e),q()}}),a.length>0&&Object(p.jsx)(R,{onClick:function(){return k(N+1)}}),f&&Object(p.jsx)(x,{onClose:q,largeImageURL:E}),Object(p.jsx)(h.a,{position:"bottom-left",autoClose:3e3})]})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(B,{})}),document.getElementById("root")),J()},7:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2ca6z",searchForm:"Searchbar_searchForm__1SNSG",searchBtn:"Searchbar_searchBtn__rNYSb",searchLable:"Searchbar_searchLable__JHGA9",searchInput:"Searchbar_searchInput__1n_c5"}}},[[53,1,2]]]);
//# sourceMappingURL=main.982869d5.chunk.js.map